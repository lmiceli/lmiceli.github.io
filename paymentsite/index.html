<!DOCTYPE html><html class=''>
<head>
<style>
body {
  background-color: lightcyan;
}
</style>
</head>

<body>

Esto es una pagina de pago


<br/><br/>


<a href="error.lala" onClick="punchEvery5Secs(); return false;">este link hace un punchout con get si la url tiene un parametro punchout_url</a>

<script>
	console.log("log desde la pagina Main");

	function getPunchoutURL(url) {
  		var url = new URL(url);
		return url.searchParams.get("ret_url");
	}

	var punch = function(){
		var url = getPunchoutURL(window.location.href);
		window.location.href = url;
	}


	var punchEvery5Secs = function() {
		window.setInterval( function() {
		  punch();
		  console.log("I am punching out");
		}, 5000);
	}
	
</script>
</body></html>